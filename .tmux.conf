# Set session option: `set`
# Set window option: `setw`

set -g default-terminal "screen-256color"
set -g mouse on
setw -g mode-keys vi  # In copy mode

# Status bar
set -g status-position top
set -g status-bg colour238
set -g status-fg colour251

# Status bar formats
set -g status-left  " #S "
set -g status-right "#h  %Y-%m-%d %H:%M "
setw -g window-status-format         "#[bg=colour241]#[fg=colour251] #I #W #F "
setw -g window-status-current-format "#[bg=colour241]#[fg=colour221] #I #W #F "


### Key bindings

# Split window (Start in current path)
bind "-" split-window -v -c "#{pane_current_path}"
bind "|" split-window -h -c "#{pane_current_path}"

# Vim keymaps for copy mode
bind -t vi-copy "v" begin-selection
bind -t vi-copy "y" copy-pipe "pbcopy"

# Start copy mode with scroll wheel
# https://github.com/tmux/tmux/issues/145
bind -n WheelUpPane if -F "#{mouse_any_flag}" "send-keys -M" \
    "if -F '#{pane_in_mode}' 'send-keys -M' 'copy-mode -e'"
bind -n WheelDownPane send-keys -M

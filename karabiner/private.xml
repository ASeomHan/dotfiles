<?xml version="1.0"?>
<root>
  <vkopenurldef>
    <name>KeyCode::VK_OPEN_URL_toggle_keyup</name>
    <url type="shell">
      <![CDATA[
        /usr/bin/osascript <<EOF
        tell application "System Events" to tell process "KeyUp"
            click menu bar item 1 of menu bar 2 -- Click menu bar icon
        end tell
        EOF
      ]]>
    </url>
  </vkopenurldef>

  <modifierdef>XBUTTON1</modifierdef>
  <modifierdef>XBUTTON2</modifierdef>
  <item>
    <name>MouseButton4-5 as XButton1-2 modifier</name>
    <appendix>+ MouseButton4 to Mission Control</appendix>
    <appendix>+ MouseButton5 to Toggle KeyUp</appendix>
    <identifier>private.MB45_as_XB12_modifier</identifier>
    <autogen>
      __KeyOverlaidModifier__
      PointingButton::BUTTON4,
      KeyCode::VK_MODIFIER_XBUTTON1,
      KeyCode::MISSION_CONTROL
    </autogen>
    <autogen>
      __KeyOverlaidModifier__
      PointingButton::BUTTON5,
      KeyCode::VK_MODIFIER_XBUTTON2,
      KeyCode::VK_OPEN_URL_toggle_keyup
    </autogen>
  </item>

  <item>
    <name>Settings for OS X</name>
    <appendix>XButton2+Click to ForceTouch</appendix>
    <appendix>XButton2+RightClick to Option+RightClick</appendix>
    <identifier>private.settings_for_osx</identifier>
    <autogen>
      __KeyToKey__
      PointingButton::LEFT, ModifierFlag::XBUTTON2,
      KeyCode::D, ModifierFlag::COMMAND_L | ModifierFlag::CONTROL_L
    </autogen>
    <autogen>
      __KeyToKey__
      PointingButton::RIGHT, ModifierFlag::XBUTTON2,
      PointingButton::RIGHT, ModifierFlag::OPTION_L
    </autogen>
  </item>

  <item>
    <name>Settings for KeyUp</name>
    <appendix>Simultaneously Left+RightClick to Shift+Click</appendix>
    <appendix>XButton2+CursorMove to Arrows</appendix>
    <appendix>(Configure `Parameters` -> `PointingRelative to Key` -> `Detection interval`)</appendix>
    <identifier>private.settings_for_keyup</identifier>
    <autogen>
      __SimultaneousKeyPresses__
      PointingButton::LEFT, PointingButton::RIGHT, 
      PointingButton::LEFT, ModifierFlag::SHIFT_L
    </autogen>
    <autogen>
      __PointingRelativeToKey__
      ModifierFlag::XBUTTON2,
      PointingRelative::UP,    KeyCode::CURSOR_UP,
      PointingRelative::DOWN,  KeyCode::CURSOR_DOWN,
      PointingRelative::LEFT,  KeyCode::CURSOR_LEFT,
      PointingRelative::RIGHT, KeyCode::CURSOR_RIGHT
    </autogen>
  </item>

  <item><name>──────────────────────────────</name></item>
</root>
